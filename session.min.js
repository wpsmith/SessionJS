var Session=function(){var e={},t={},n;var r=function(t,r){if(t!=undefined&&t.length&&r!=undefined){e[t]=r;if(!n){n=setTimeout(function(){f();n=undefined},50)}o(t);return true}return false};var i=function(t){return e[t]||false};var s=function(t){if(e[t]!=undefined){delete e[t];if(!n){n=setTimeout(function(){f();n=undefined},50)}return true}return false};var o=function(e){if(t[e]){for(var n in t[e]){for(var r=0,i=t[e][n].length;r<i;r++){t[e][n][r]()}}}};var u=function(e,n){if(e!=undefined&&e.length&&n!=undefined&&typeof n==="function"){var r=e.split("."),i=r[0],s=r[1]||"default";if(t[i]&&t[i][s]){t[i][s].push(n)}else{t[i]=t[i]||{};t[i][s]=[n]}return true}return false};var a=function(e){if(e.length){var n=e.split("."),r=n[0],i=n[1]||"default";if(t[r]&&t[r][i]){delete t[r][i];return true}return false}return false};var f=function(){window.name=JSON.stringify(e)};var l=function(){if(window.name.length){e=JSON.parse(window.name);for(var t in e){o(t)}}};var c=function(){if(window.addEventListener){window.addEventListener("load",l,false)}else if(window.attachEvent){window.attachEvent("onload",l)}else{var e=window.onload;window.onload=function(){e();l()}}}();return{setVar:r,getVar:i,removeVar:s,subscribe:u,unsubscribe:a}}()
